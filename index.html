<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weather Dashboard</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Dialogflow Messenger -->
  <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
  <!-- FontAwesome for icons -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <!-- AOS CDN for scroll animations -->
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.js"></script>

  <style>
    .loader {
      border-top-color: #3498db; /* Blue color */
      animation: spinner 1.5s linear infinite;
    }
    @keyframes spinner {
      to { transform: rotate(360deg); }
    }
    /* Fading spinner */
    #loadingSpinner {
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }

    #loadingSpinner.show {
      opacity: 1;
    }
  </style>
</head>
<body class="bg-gray-100">
  <div class="flex min-h-screen">
    <!-- Sidebar -->
    <aside class="w-64 bg-blue-700 text-white flex-shrink-0">
      <div class="p-6">
        <h1 class="text-3xl font-bold mb-8"><i class="fas fa-cloud-sun"></i> Weather App</h1>
        <nav>
          <a href="#weatherWidget" class="block py-2 text-lg hover:bg-blue-800 rounded px-4"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
          <a href="#forecastTable" class="block py-2 text-lg hover:bg-blue-800 rounded px-4"><i class="fas fa-table"></i> Tables</a>
        </nav>
      </div>
    </aside>

    <main class="flex-grow p-6 relative">
        <!-- Loading Spinner -->
        <div id="loadingSpinner" class="fixed inset-0 flex items-center justify-center bg-white bg-opacity-75 hidden">
          <!-- Spinner -->
          <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-16 w-16"></div>
        </div>
        
        <!-- City Input and Unit Toggle -->
        <div class="flex items-center mb-6">
          <input type="text" id="cityInput" class="border p-2 rounded w-full max-w-sm" placeholder="Enter city name">
          <button id="getWeatherBtn" class="bg-blue-600 text-white px-4 py-2 rounded ml-2 hover:bg-blue-700">Get Weather</button>
          
          <!-- Unit Toggle -->
          <label class="ml-4 mr-2">Unit:</label>
          <select id="unitToggle" class="border p-2 rounded">
            <option value="C">°C</option>
            <option value="F">°F</option>
          </select>
        </div>

      <!-- Weather Widget -->
      <section id="weatherWidget" class="p-6 rounded-lg shadow mb-6 bg-cover bg-center text-white" 
        style="background-image: url('default.jpg');" data-aos="fade-up">
        <!-- Weather details will be displayed here -->
      </section>

      <!-- Charts -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6" data-aos="fade-up">
        <div class="bg-white p-4 rounded-lg shadow">
          <canvas id="barChart"></canvas>
        </div>
        <div class="bg-white p-4 rounded-lg shadow">
          <canvas id="doughnutChart"></canvas>
        </div>
        <div class="bg-white p-4 rounded-lg shadow">
          <canvas id="lineChart"></canvas>
        </div>
      </div>


      <!-- Filter Controls -->

  

      <!-- Table -->
      <section class="mb-6 bg-white p-4 rounded-lg shadow" data-aos="fade-up">
       
        <!-- Filter Controls -->
<div class="mb-4 flex flex-wrap gap-2 justify-center">
    <button id="sortAscBtn" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Sort Ascending</button>
    <button id="sortDescBtn" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Sort Descending</button>
    <button id="filterRainBtn" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Show Rainy Days</button>
    <button id="highestTempBtn" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Highest Temperature</button>
    <button id="resetFiltersBtn" class="flex-1 bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700">Reset Filters</button>
  </div>
  

          

       
        <table id="forecastTable" class="min-w-full">
          <!-- Table content will be inserted here -->
        </table>
        <!-- Pagination Controls -->
        <div id="paginationControls" class="flex justify-center mt-4">
          <!-- Pagination buttons will be here -->
        </div>
      </section>

      <!-- Chatbot Widget -->
      <section id="chatbotWidget" class="p-6 rounded-lg shadow bg-white" data-aos="fade-up">
        <!-- Chatbot interface -->
        <df-messenger
        id="dfMessenger"
        intent="Welcome"
        chat-title="weatherbot"
        agent-id="44a950ce-63f8-4813-9077-be36169315aa"
        language-code="en"
          ></df-messenger>
      </section>
    </main>
  </div>

  <!-- Include your JavaScript file -->
  <script src="script.js"></script>
  <script>
    AOS.init({
      duration: 1000, // Animation duration (in milliseconds)
      easing: 'ease-in-out', // Animation easing
      once: true, // Animation happens only once as you scroll
    });
  </script>
</body>
</html>
